<!DOCTYPE html>
<html lang="en">

<head>
    <title>Challenge 4 v7</title>
</head>

<body>
    <script>
        let program = function(){
        let vehicles = [
            { type: 'cycle', weightCapacity: 1 },
            { type: 'bike', weightCapacity: 50 },
            { type: 'auto', weightCapacity: 20.1 },
            { type: 'ace', weightCapacity: 5 },
            { type: 'tempo', weightCapacity: 100 },
            { type: 'cargo', weightCapacity: 2 }
        ];
        for ( i=0; i< vehicles.length; i++){
            if( vehicles[i].weightCapacity < 0 ){
                return console.log('Enter values greater than 0')
            }
        }

        const parcels = [
            { location: 'velachery', weight: 1.99999 },
            { location: 'madipakkam', weight: 17 },
            { location: 'sholinganallur', weight: 1000 },
            { location: 'sholinganallur', weight: 10 }
        ];
        
        //counter 
        for (i = 0; i < vehicles.length; i++) {
            vehicles[i].count = 0;
        }
        //sorter
        for (x = 0; x < vehicles.length; x++) {
            for (i = 0; i < vehicles.length; i++) {
                while (i + 1 < vehicles.length && vehicles[i].weightCapacity > vehicles[i + 1].weightCapacity) {
                    let temp = vehicles[i];
                    vehicles[i] = vehicles[i + 1];
                    vehicles[i + 1] = temp;
                }
            }
        }
        console.log(vehicles);

        //-------------
        let difference = 0;
        for (let p = 0; p < parcels.length; p++) {
            let number = 0;
            let difference = parcels[p].weight;

            for (let i = vehicles.length - 1; i >= 0; i--) {
                while (difference >= vehicles[i].weightCapacity) {
                    difference = difference - vehicles[i].weightCapacity;
                    number += 1;
                    vehicles[i].count += 1;
                }
            }
            console.log(`${parcels[p].location}(${parcels[p].weight}) needs a minimum of ${number} vehicles with `);
            for (let i = vehicles.length - 1; i >= 0; i--) {
                if (vehicles[i].count !== 0) {
                    console.log(`${vehicles[i].count} ${vehicles[i].type} `)
                    vehicles[i].count = 0;
                }
            }
        }
    }
    program();
    </script>
</body>

</html>